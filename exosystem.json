{
  "apps": [
    {
      "name": "name",
      "script": "./bin/index.js",
      "exec_mode": "cluster",
      "instances": "4",
      "env": {},
      "env_production": {
        "NODE_ENV": "production"
      }
    }
  ],
  "deploy": {
    "staging": {
      "user": "USER",
      "host": "HOST",
      "ref": "origin/master",
      "repo": "REPO",
      "path": "PATH",
      "post-deploy": "npm i --no-optional && npm run build && pm2 startOrGracefulReload ecosystem.json --env production && pm2 save"
    },
    "production": {
      "user": "USER",
      "host": "HOST",
      "ref": "origin/master",
      "repo": "REPO",
      "path": "PATH",
      "post-deploy": "npm i --no-optional && npm run build && pm2 startOrGracefulReload ecosystem.json --env production && pm2 save"
    }
  }
}
